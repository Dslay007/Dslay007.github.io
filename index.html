<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi SiPanganCerdas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        .small-chart-container {
            position: relative;
            height: 150px;
            width: 100%;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 280px;
            background-color: #334155;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -140px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
            line-height: 1.4;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .time-range-btn.active, .nav-link.active {
            background-color: #eef2ff;
            color: #4338ca;
            font-weight: 600;
        }
        .nav-link.active i {
            color: #4338ca;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-slate-200 flex-shrink-0">
            <div class="p-6 flex items-center space-x-3">
                <div class="bg-indigo-600 text-white p-2 rounded-lg">
                    <i data-lucide="line-chart"></i>
                </div>
                <h1 class="text-xl font-bold text-indigo-600">SiPanganCerdas</h1>
            </div>
            <nav id="sidebar-nav" class="mt-6 px-4">
                <a href="#dashboard" class="nav-link flex items-center px-4 py-2 text-slate-700 rounded-lg font-semibold active">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 mr-3 text-slate-500"></i>
                    Dasbor Harga
                </a>
                <a href="#correlation" class="nav-link flex items-center px-4 py-2 mt-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                    <i data-lucide="bar-chart-3" class="w-5 h-5 mr-3 text-slate-500"></i>
                    Analisis Korelasi
                </a>
                <a href="#factors" class="nav-link flex items-center px-4 py-2 mt-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                    <i data-lucide="cloud-sun" class="w-5 h-5 mr-3 text-slate-500"></i>
                    Faktor Eksternal
                </a>
                 <a href="#news" class="nav-link flex items-center px-4 py-2 mt-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                    <i data-lucide="newspaper" class="w-5 h-5 mr-3 text-slate-500"></i>
                    Berita Pangan
                </a>
                <a href="#about" class="nav-link flex items-center px-4 py-2 mt-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                    <i data-lucide="info" class="w-5 h-5 mr-3 text-slate-500"></i>
                    Tentang Aplikasi
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <div class="flex-1 overflow-y-auto">
            <!-- Page: Dashboard -->
            <main id="page-dashboard" class="page active p-8">
                <header class="flex flex-col md:flex-row justify-between items-center mb-8">
                    <div>
                        <h2 class="text-3xl font-bold">Dasbor Harga Bahan Pokok</h2>
                        <p id="location-subtitle" class="text-slate-500 mt-1">Analisis dan Prediksi Harga Nasional</p>
                    </div>
                    <div class="flex items-center space-x-4 mt-4 md:mt-0">
                        <div class="relative">
                            <select id="region-select" class="w-48 appearance-none p-2 pl-3 pr-8 border border-slate-300 rounded-lg bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                                <option value="nasional">Nasional</option>
                                <option value="jatim">Jawa Timur</option>
                                <option value="dki">DKI Jakarta</option>
                                <option value="jabar">Jawa Barat</option>
                            </select>
                            <i data-lucide="map-pin" class="w-5 h-5 text-slate-400 absolute top-1/2 right-2 -translate-y-1/2 pointer-events-none"></i>
                        </div>
                        <div class="flex items-center bg-white border border-slate-300 rounded-lg px-3 py-2">
                            <i data-lucide="calendar" class="w-5 h-5 text-slate-500 mr-2"></i>
                            <span id="currentDate" class="font-medium text-slate-700"></span>
                        </div>
                    </div>
                </header>
    
                <!-- Commodity Overview -->
                <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm mb-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-center">
                        <div class="lg:col-span-1">
                            <label for="commodity-select" class="text-sm font-medium text-slate-600">Pilih Komoditas</label>
                            <div class="mt-1 relative">
                                <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                                    <i data-lucide="shopping-basket" class="h-5 w-5 text-slate-400"></i>
                                </div>
                                <select id="commodity-select" class="w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                                    <option value="beras">Beras Premium</option>
                                    <option value="minyak">Minyak Goreng Curah</option>
                                    <option value="gula">Gula Pasir</option>
                                    <option value="cabai">Cabai Rawit Merah</option>
                                </select>
                            </div>
                        </div>
                        <div id="overview-last-price" class="flex items-center space-x-4 p-4 bg-slate-50 rounded-lg">
                            <div class="p-3 bg-blue-100 text-blue-600 rounded-full">
                                <i data-lucide="tag"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500">Harga Terakhir (/kg)</p>
                                <p class="text-2xl font-bold text-slate-800">Rp 15.550</p>
                            </div>
                        </div>
                         <div id="overview-price-change" class="flex items-center space-x-4 p-4 bg-slate-50 rounded-lg">
                            <div class="p-3 bg-red-100 text-red-600 rounded-full">
                                <i data-lucide="trending-down"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500">Perubahan Harga (24 Jam)</p>
                                <p class="text-2xl font-bold text-red-600 flex items-center">- Rp 150 <span class="text-base font-medium ml-2">(-0.96%)</span></p>
                            </div>
                        </div>
                         <div id="overview-prediction" class="flex items-center space-x-4 p-4 bg-slate-50 rounded-lg">
                            <div class="p-3 bg-green-100 text-green-600 rounded-full">
                               <i data-lucide="arrow-up-right"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500">Prediksi Besok</p>
                                <p class="text-2xl font-bold text-green-600">Rp 15.600</p>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Main Chart and Factors -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4">
                            <h3 id="chart-title" class="text-lg font-bold mb-3 sm:mb-0">Grafik Harga dan Prediksi (Beras Premium)</h3>
                            <div id="time-range-selector" class="flex space-x-1 bg-slate-100 p-1 rounded-lg">
                                <button data-range="30" class="time-range-btn px-3 py-1 text-sm rounded-md active">1 Bulan</button>
                                <button data-range="90" class="time-range-btn px-3 py-1 text-sm text-slate-500 hover:bg-white/60 rounded-md">3 Bulan</button>
                                <button data-range="365" class="time-range-btn px-3 py-1 text-sm text-slate-500 hover:bg-white/60 rounded-md">1 Tahun</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="priceChart"></canvas>
                        </div>
                    </div>
    
                    <!-- Influencing Factors Summary -->
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Faktor Pengaruh Utama</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="p-2 bg-orange-100 text-orange-600 rounded-lg mr-3"> <i data-lucide="fuel" class="w-5 h-5"></i> </div>
                                    <div><p class="font-semibold">Harga BBM</p><p class="text-sm text-slate-500">Pertalite/Liter</p></div>
                                </div>
                                <p class="font-bold text-lg">Rp 10.000</p>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
                               <div class="flex items-center">
                                    <div class="p-2 bg-cyan-100 text-cyan-600 rounded-lg mr-3"> <i data-lucide="thermometer-sun" class="w-5 h-5"></i> </div>
                                    <div><p class="font-semibold">Cuaca</p><p class="text-sm text-slate-500">Suhu Rata-rata</p></div>
                                </div>
                                <p class="font-bold text-lg">28Â°C</p>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="p-2 bg-violet-100 text-violet-600 rounded-lg mr-3"> <i data-lucide="trending-up" class="w-5 h-5"></i> </div>
                                    <div><p class="font-semibold">Inflasi (YoY)</p><p class="text-sm text-slate-500">Tingkat Nasional</p></div>
                                </div>
                                <p class="font-bold text-lg">2.84%</p>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
                               <div class="flex items-center">
                                    <div class="p-2 bg-lime-100 text-lime-600 rounded-lg mr-3"> <i data-lucide="sprout" class="w-5 h-5"></i> </div>
                                    <div><p class="font-semibold">Musim Panen</p><p class="text-sm text-slate-500">Status Saat Ini</p></div>
                                </div>
                                <p class="font-bold text-lg text-green-600">Puncak</p>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Prediction Table -->
                <div class="mt-8 bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                       <h3 class="text-lg font-bold mb-4">Tabel Outlook Harga</h3>
                       <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead class="bg-slate-50 text-sm text-slate-600">
                                    <tr>
                                        <th class="p-4 font-semibold rounded-l-lg">Komoditas</th>
                                        <th class="p-4 font-semibold">Harga Saat Ini (/kg)</th>
                                        <th class="p-4 font-semibold">Outlook 1 Minggu</th>
                                        <th class="p-4 font-semibold">Outlook 1 Bulan</th>
                                        <th class="p-4 font-semibold">Outlook 3 Bulan</th>
                                        <th class="p-4 font-semibold text-center rounded-r-lg">Penjelasan Prediksi</th>
                                    </tr>
                                </thead>
                                <tbody id="outlook-table-body"></tbody>
                            </table>
                       </div>
                </div>
            </main>

            <!-- Page: Correlation Analysis -->
            <main id="page-correlation" class="page p-8">
                <header class="mb-8">
                    <h2 class="text-3xl font-bold">Analisis Korelasi</h2>
                    <p class="text-slate-500 mt-1">Memahami Hubungan Antar Variabel yang Mempengaruhi Harga</p>
                </header>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Visualisasi Korelasi (Scatter Plot)</h3>
                        <div class="flex space-x-4 mb-4">
                            <div class="flex-1">
                                <label class="text-sm font-medium">Variabel X</label>
                                <select id="corr-var-x" class="w-full mt-1 p-2 border border-slate-300 rounded-lg bg-white">
                                    <option value="harga_beras">Harga Beras</option>
                                    <option value="harga_bbm" selected>Harga BBM</option>
                                    <option value="inflasi">Inflasi</option>
                                    <option value="curah_hujan">Curah Hujan</option>
                                </select>
                            </div>
                             <div class="flex-1">
                                <label class="text-sm font-medium">Variabel Y</label>
                                <select id="corr-var-y" class="w-full mt-1 p-2 border border-slate-300 rounded-lg bg-white">
                                    <option value="harga_beras" selected>Harga Beras</option>
                                    <option value="harga_bbm">Harga BBM</option>
                                    <option value="inflasi">Inflasi</option>
                                    <option value="curah_hujan">Curah Hujan</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="correlationChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Matriks Korelasi</h3>
                        <p class="text-sm text-slate-500 mb-4">
                            Menunjukkan kekuatan hubungan antar variabel. Nilai mendekati 1 atau -1 menunjukkan korelasi kuat. Nilai mendekati 0 menunjukkan korelasi lemah.
                        </p>
                        <table class="w-full text-center text-sm">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="p-2 font-semibold border">Variabel</th>
                                    <th class="p-2 font-semibold border">Harga Beras</th>
                                    <th class="p-2 font-semibold border">Harga BBM</th>
                                    <th class="p-2 font-semibold border">Inflasi</th>
                                    <th class="p-2 font-semibold border">Curah Hujan</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="p-2 font-semibold border bg-slate-50">Harga Beras</td>
                                    <td class="p-2 border bg-indigo-200">1.00</td>
                                    <td class="p-2 border bg-green-100">0.75</td>
                                    <td class="p-2 border bg-green-100">0.68</td>
                                    <td class="p-2 border bg-red-100">-0.45</td>
                                </tr>
                                <tr>
                                    <td class="p-2 font-semibold border bg-slate-50">Harga BBM</td>
                                    <td class="p-2 border bg-green-100">0.75</td>
                                    <td class="p-2 border bg-indigo-200">1.00</td>
                                    <td class="p-2 border bg-yellow-100">0.55</td>
                                    <td class="p-2 border bg-slate-100">0.15</td>
                                </tr>
                                 <tr>
                                    <td class="p-2 font-semibold border bg-slate-50">Inflasi</td>
                                    <td class="p-2 border bg-green-100">0.68</td>
                                    <td class="p-2 border bg-yellow-100">0.55</td>
                                    <td class="p-2 border bg-indigo-200">1.00</td>
                                    <td class="p-2 border bg-slate-100">0.05</td>
                                </tr>
                                 <tr>
                                    <td class="p-2 font-semibold border bg-slate-50">Curah Hujan</td>
                                    <td class="p-2 border bg-red-100">-0.45</td>
                                    <td class="p-2 border bg-slate-100">0.15</td>
                                    <td class="p-2 border bg-slate-100">0.05</td>
                                    <td class="p-2 border bg-indigo-200">1.00</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="mt-4 p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 space-y-2">
                            <h4 class="font-bold">Bagaimana Cara Membacanya?</h4>
                            <p class="text-sm">
                                Angka-angka ini menunjukkan seberapa erat hubungan antara dua hal. Semakin dekat angkanya ke <strong>1 (positif)</strong> atau <strong>-1 (negatif)</strong>, semakin kuat hubungannya.
                            </p>
                            <ul class="list-disc list-inside text-sm space-y-1">
                                <li>
                                    <strong class="text-green-700">Korelasi Positif (e.g., 0.75):</strong> Jika satu variabel naik, variabel lainnya cenderung ikut naik. Contohnya, <strong>Harga BBM</strong> yang naik seringkali diikuti oleh kenaikan <strong>Harga Beras</strong> karena biaya transportasi meningkat.
                                </li>
                                <li>
                                    <strong class="text-red-700">Korelasi Negatif (e.g., -0.45):</strong> Jika satu variabel naik, variabel lainnya cenderung turun. Contohnya, saat <strong>Curah Hujan</strong> tinggi (musim panen), pasokan melimpah sehingga <strong>Harga Beras</strong> cenderung turun.
                                </li>
                                 <li>
                                    <strong>Korelasi Lemah (mendekati 0):</strong> Tidak ada hubungan yang jelas antara kedua variabel. Perubahan pada satu variabel tidak banyak mempengaruhi yang lain.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </main>

             <!-- Page: External Factors -->
            <main id="page-factors" class="page p-8">
                <header class="mb-8">
                    <h2 class="text-3xl font-bold">Detail Faktor Eksternal</h2>
                    <p class="text-slate-500 mt-1">Memonitor Tren Variabel Kunci yang Mempengaruhi Stabilitas Pangan</p>
                </header>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Factor Card: BBM -->
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex items-center mb-4">
                            <div class="p-3 bg-orange-100 text-orange-600 rounded-lg mr-4"><i data-lucide="fuel" class="w-6 h-6"></i></div>
                            <div>
                                <h3 class="text-xl font-bold">Harga BBM (Pertalite)</h3>
                                <p class="text-2xl font-bold mt-1">Rp 10.000 <span class="text-sm font-medium text-slate-500">/liter</span></p>
                            </div>
                        </div>
                        <div class="small-chart-container mb-4"><canvas id="bbmChart"></canvas></div>
                        <p class="text-sm text-slate-600">Harga BBM yang stabil cenderung menjaga biaya logistik dan produksi pangan. Kenaikan signifikan dapat memicu inflasi pada harga bahan pokok.</p>
                    </div>

                    <!-- Factor Card: Cuaca -->
                     <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex items-center mb-4">
                            <div class="p-3 bg-cyan-100 text-cyan-600 rounded-lg mr-4"><i data-lucide="thermometer-sun" class="w-6 h-6"></i></div>
                            <div>
                                <h3 class="text-xl font-bold">Cuaca (Curah Hujan)</h3>
                                <p class="text-2xl font-bold mt-1">150 <span class="text-sm font-medium text-slate-500">mm/bulan</span></p>
                            </div>
                        </div>
                        <div class="small-chart-container mb-4"><canvas id="weatherChart"></canvas></div>
                        <p class="text-sm text-slate-600">Curah hujan yang optimal mendukung musim tanam dan panen, yang dapat meningkatkan pasokan dan menurunkan harga. Kekeringan atau banjir berisiko sebaliknya.</p>
                    </div>

                     <!-- Factor Card: Inflasi -->
                     <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex items-center mb-4">
                            <div class="p-3 bg-violet-100 text-violet-600 rounded-lg mr-4"><i data-lucide="trending-up" class="w-6 h-6"></i></div>
                            <div>
                                <h3 class="text-xl font-bold">Tingkat Inflasi (YoY)</h3>
                                <p class="text-2xl font-bold mt-1">2.84% <span class="text-sm font-medium text-green-600">(Terkendali)</span></p>
                            </div>
                        </div>
                        <div class="small-chart-container mb-4"><canvas id="inflationChart"></canvas></div>
                        <p class="text-sm text-slate-600">Inflasi yang terkendali menunjukkan daya beli masyarakat yang stabil. Inflasi tinggi dapat menekan daya beli dan mendorong kenaikan harga secara umum.</p>
                    </div>

                     <!-- Factor Card: Musim Panen -->
                     <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex items-center mb-4">
                            <div class="p-3 bg-lime-100 text-lime-600 rounded-lg mr-4"><i data-lucide="sprout" class="w-6 h-6"></i></div>
                            <div>
                                <h3 class="text-xl font-bold">Indeks Musim Panen</h3>
                                <p class="text-2xl font-bold mt-1">85 <span class="text-sm font-medium text-slate-500">/100</span></p>
                            </div>
                        </div>
                        <div class="small-chart-container mb-4"><canvas id="harvestChart"></canvas></div>
                        <p class="text-sm text-slate-600">Indeks yang tinggi menandakan puncak musim panen, di mana pasokan melimpah dan harga cenderung turun. Indeks rendah mengindikasikan masa paceklik.</p>
                    </div>
                </div>
            </main>
            
            <!-- Page: News (Placeholder) -->
            <main id="page-news" class="page p-8"><h2 class="text-3xl font-bold">Berita Pangan</h2><p class="mt-2 text-slate-500">Halaman ini sedang dalam pengembangan.</p></main>
            
            <!-- Page: About -->
            <main id="page-about" class="page p-8">
                <header class="mb-8">
                    <h2 class="text-3xl font-bold">Tentang SiPanganCerdas</h2>
                    <p class="text-slate-500 mt-1">Analisis dan Prediksi Harga Bahan Pokok untuk Nasional</p>
                </header>

                <div class="space-y-8">
                    <!-- Bagian "Tentang SiPanganCerdas" -->
                    <section class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <p class="leading-relaxed">
                            <strong>SiPanganCerdas</strong> adalah sebuah platform web inovatif yang dirancang untuk menyediakan analisis dan prediksi harga bahan pokok secara akurat di tingkat nasional. Aplikasi ini bertujuan untuk menjadi pusat data dan informasi terpercaya bagi para pemangku kepentingan dalam memantau dinamika harga pangan di Indonesia.
                        </p>
                        <p class="mt-4 leading-relaxed">
                            Visi kami adalah untuk mendukung stabilitas dan ketahanan pangan nasional melalui penyediaan data yang transparan, <em>real-time</em>, dan mudah diakses.
                        </p>
                    </section>

                    <!-- Bagian "Fitur Utama Kami" -->
                    <section class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Fitur Utama Kami</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <i data-lucide="layout-dashboard" class="w-6 h-6 text-indigo-500 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h4 class="font-semibold">Dasbor Harga Interaktif</h4>
                                    <p class="text-slate-600 text-sm">Pantau harga terkini dari berbagai komoditas bahan pokok, lihat perubahan harga harian, dan analisis tren historis melalui grafik yang mudah dibaca.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                               <i data-lucide="brain-circuit" class="w-6 h-6 text-indigo-500 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h4 class="font-semibold">Prediksi Harga Cerdas</h4>
                                    <p class="text-slate-600 text-sm">Dapatkan prediksi harga untuk hari berikutnya yang diolah menggunakan model analisis data canggih, membantu Anda dalam mengambil keputusan strategis.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                               <i data-lucide="bar-chart-3" class="w-6 h-6 text-indigo-500 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h4 class="font-semibold">Analisis Korelasi</h4>
                                    <p class="text-slate-600 text-sm">Pahami bagaimana harga satu komoditas dapat berhubungan atau dipengaruhi oleh komoditas lainnya.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                               <i data-lucide="cloud-sun" class="w-6 h-6 text-indigo-500 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h4 class="font-semibold">Pemantauan Faktor Eksternal</h4>
                                    <p class="text-slate-600 text-sm">Kami mengintegrasikan data-data eksternal (seperti cuaca, kebijakan, dan tren pasar) yang berpotensi mempengaruhi fluktuasi harga.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="newspaper" class="w-6 h-6 text-indigo-500 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <h4 class="font-semibold">Pusat Berita Pangan</h4>
                                    <p class="text-slate-600 text-sm">Tetap terinformasi dengan kumpulan berita terbaru seputar sektor pangan yang relevan dengan pergerakan harga.</p>
                                </div>
                            </li>
                        </ul>
                    </section>

                    <!-- Bagian "Model Prediksi Kami" -->
                    <section class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Model Prediksi Kami</h3>
                        <p class="leading-relaxed text-sm">
                            Fitur prediksi harga di <strong>SiPanganCerdas</strong> didukung oleh model <em>machine learning</em> canggih yang telah dilatih menggunakan data historis harga pangan dari berbagai sumber terpercaya.
                        </p>
                        <p class="mt-4 leading-relaxed text-sm">
                            Model kami secara kontinu menganalisis pola dan tren pasar, serta memperhitungkan berbagai faktor eksternal untuk menghasilkan prediksi dengan tingkat akurasi yang tinggi. Kami berkomitmen untuk terus meningkatkan dan menyempurnakan model ini demi memberikan wawasan yang paling andal bagi Anda.
                        </p>
                    </section>

                    <!-- Bagian "Untuk Siapa Aplikasi Ini?" -->
                    <section class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <h3 class="text-lg font-bold mb-4">Untuk Siapa Aplikasi Ini?</h3>
                        <p class="leading-relaxed text-sm">
                            <strong>SiPanganCerdas</strong> ditujukan bagi para pembuat kebijakan, analis ekonomi, pelaku industri pangan, peneliti, serta masyarakat umum yang peduli dan ingin memahami dinamika harga bahan pokok di Indonesia.
                        </p>
                        <p class="mt-4 leading-relaxed text-sm">
                            Dengan SiPanganCerdas, kami berharap dapat memberikan kontribusi positif dalam menciptakan ekosistem pangan yang lebih stabil dan transparan.
                        </p>
                    </section>
                </div>
            </main>


        </div>
    </div>

    <script>
        // --- MOCK DATA ---
        const MOCK_DATA = {
            nasional: {
                name: "Nasional",
                beras: { name: "Beras Premium", overview: { lastPrice: 15800, change: -100, changePercent: -0.63, prediction: 15850 }, outlook: { week: 1.0, month: 2.5, threeMonth: -0.5, reason: "Stok nasional cukup, namun distribusi antar pulau menjadi faktor utama kenaikan jangka pendek." }, chartBase: 15700 },
                minyak: { name: "Minyak Goreng Curah", overview: { lastPrice: 16500, change: 150, changePercent: 0.91, prediction: 16600 }, outlook: { week: -0.2, month: 1.8, threeMonth: 3.5, reason: "Harga CPO global yang fluktuatif mempengaruhi harga minyak goreng domestik." }, chartBase: 16300 },
                gula: { name: "Gula Pasir", overview: { lastPrice: 18250, change: 0, changePercent: 0, prediction: 18250 }, outlook: { week: 0.1, month: -1.0, threeMonth: 1.5, reason: "Ketersediaan dari impor menjaga harga tetap stabil dalam jangka pendek." }, chartBase: 18200 },
                cabai: { name: "Cabai Rawit Merah", overview: { lastPrice: 48000, change: -2000, changePercent: -4.0, prediction: 47000 }, outlook: { week: -6.0, month: -15.0, threeMonth: 8.0, reason: "Panen raya di sentra produksi utama menekan harga cabai secara nasional." }, chartBase: 50000 }
            },
            jatim: {
                name: "Jawa Timur",
                beras: { name: "Beras Premium", overview: { lastPrice: 15550, change: -150, changePercent: -0.96, prediction: 15600 }, outlook: { week: 1.2, month: 3.5, threeMonth: -0.8, reason: "Harga beras diperkirakan stabil naik dalam 1 bulan ke depan seiring berakhirnya musim panen raya." }, chartBase: 15500 },
                minyak: { name: "Minyak Goreng Curah", overview: { lastPrice: 16200, change: 50, changePercent: 0.31, prediction: 16250 }, outlook: { week: -0.5, month: 2.1, threeMonth: 4.5, reason: "Kenaikan harga CPO global dan melemahnya nilai tukar Rupiah akan mendorong kenaikan harga." }, chartBase: 16000 },
                gula: { name: "Gula Pasir", overview: { lastPrice: 18100, change: 0, changePercent: 0, prediction: 18100 }, outlook: { week: 0.2, month: -1.5, threeMonth: 1.8, reason: "Stok gula yang cukup akan menahan kenaikan harga dalam jangka pendek." }, chartBase: 18000 },
                cabai: { name: "Cabai Rawit Merah", overview: { lastPrice: 45000, change: -2500, changePercent: -5.26, prediction: 44000 }, outlook: { week: -5.8, month: -12.3, threeMonth: 7.2, reason: "Memasuki musim panen raya cabai, harga diperkirakan akan turun signifikan." }, chartBase: 48000 }
            },
            dki: { name: "DKI Jakarta", beras: { name: "Beras Premium", overview: { lastPrice: 16100, change: -50, changePercent: -0.31, prediction: 16100 }, outlook: { week: 1.5, month: 4.0, threeMonth: 0.5, reason: "Ketergantungan pasokan dari daerah lain membuat harga di Jakarta lebih rentan naik." }, chartBase: 16000 }, minyak: { name: "Minyak Goreng Curah", overview: { lastPrice: 16800, change: 200, changePercent: 1.20, prediction: 17000 }, outlook: { week: 0.5, month: 2.5, threeMonth: 5.0, reason: "Biaya logistik yang tinggi menjadi faktor utama harga minyak yang lebih mahal." }, chartBase: 16700 }, gula: { name: "Gula Pasir", overview: { lastPrice: 18500, change: 100, changePercent: 0.54, prediction: 18600 }, outlook: { week: 0.5, month: -0.5, threeMonth: 2.0, reason: "Harga sangat dipengaruhi oleh kelancaran distribusi dari pusat grosir." }, chartBase: 18400 }, cabai: { name: "Cabai Rawit Merah", overview: { lastPrice: 52000, change: -1500, changePercent: -2.80, prediction: 51000 }, outlook: { week: -4.0, month: -10.0, threeMonth: 9.5, reason: "Meskipun panen raya, biaya transportasi tetap membuat harga cabai tinggi." }, chartBase: 53000 }},
            jabar: { name: "Jawa Barat", beras: { name: "Beras Premium", overview: { lastPrice: 15700, change: -100, changePercent: -0.63, prediction: 15700 }, outlook: { week: 1.1, month: 3.0, threeMonth: -0.2, reason: "Produksi lokal yang kuat membantu menjaga stabilitas harga beras." }, chartBase: 15600 }, minyak: { name: "Minyak Goreng Curah", overview: { lastPrice: 16400, change: 100, changePercent: 0.61, prediction: 16500 }, outlook: { week: -0.3, month: 2.0, threeMonth: 4.0, reason: "Harga mengikuti tren nasional dengan sedikit perbedaan karena distribusi." }, chartBase: 16300 }, gula: { name: "Gula Pasir", overview: { lastPrice: 18200, change: 50, changePercent: 0.27, prediction: 18200 }, outlook: { week: 0.3, month: -1.2, threeMonth: 1.6, reason: "Pasokan dari pabrik gula lokal cukup untuk memenuhi permintaan daerah." }, chartBase: 18100 }, cabai: { name: "Cabai Rawit Merah", overview: { lastPrice: 47000, change: -2200, changePercent: -4.47, prediction: 46000 }, outlook: { week: -5.5, month: -11.0, threeMonth: 7.8, reason: "Sebagai salah satu sentra produksi, harga cabai di Jawa Barat cenderung lebih rendah." }, chartBase: 49000 }}
        };
        const CORRELATION_DATA = {
            harga_beras: Array.from({length: 50}, () => 15000 + Math.random() * 2000),
            harga_bbm: Array.from({length: 50}, () => 9800 + Math.random() * 500),
            inflasi: Array.from({length: 50}, () => 2.5 + Math.random() * 1.5),
            curah_hujan: Array.from({length: 50}, () => 50 + Math.random() * 250),
            labels: {
                harga_beras: "Harga Beras (Rp/kg)",
                harga_bbm: "Harga BBM (Rp/L)",
                inflasi: "Inflasi (%)",
                curah_hujan: "Curah Hujan (mm)"
            }
        };

        let priceChart, bbmChart, weatherChart, inflationChart, harvestChart, correlationChart;
        
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            
            // --- INITIALIZATION ---
            setupNavigation();
            updateDate();
            initializeDashboard();
            initializeCorrelation();
            initializeFactors();
            
            // --- EVENT LISTENERS ---
            document.getElementById('commodity-select').addEventListener('change', updateDashboard);
            document.getElementById('region-select').addEventListener('change', updateDashboard);
            document.getElementById('time-range-selector').addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    document.querySelectorAll('.time-range-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    updateDashboard();
                }
            });
            document.getElementById('corr-var-x').addEventListener('change', updateCorrelationChart);
            document.getElementById('corr-var-y').addEventListener('change', updateCorrelationChart);
        });

        // --- PAGE NAVIGATION ---
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    
                    pages.forEach(page => {
                        page.classList.toggle('active', page.id === `page-${targetId}`);
                    });
                    
                    navLinks.forEach(nav => {
                        nav.classList.toggle('active', nav.getAttribute('href') === `#${targetId}`);
                    });
                });
            });
        }
        
        // --- UTILS ---
        function formatCurrency(value) {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(value);
        }

        function generateChartData(base, days, prediction) {
            const data = [];
            const labels = [];
            let lastValue = base;
            for (let i = days - 1; i > 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date);
                lastValue += (Math.random() - 0.5) * (base * 0.02);
                data.push(lastValue);
            }
            // Today's price
            const today = new Date();
            labels.push(today);
            data.push(prediction.lastPrice);
            // Tomorrow's prediction
            const tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);
            labels.push(tomorrow);

            return { labels, data };
        }
        
        function updateDate() {
            const dateEl = document.getElementById('currentDate');
            const now = new Date();
            dateEl.textContent = now.toLocaleDateString('id-ID', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
        }

        // --- DASHBOARD LOGIC ---
        function initializeDashboard() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            priceChart = new Chart(ctx, {
                type: 'line',
                data: { labels: [], datasets: [] },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { type: 'time', time: { unit: 'day' }, grid: { display: false } },
                        y: { ticks: { callback: (value) => formatCurrency(value) } }
                    },
                    plugins: { legend: { position: 'bottom' }, tooltip: { callbacks: { label: (context) => `${context.dataset.label}: ${formatCurrency(context.raw)}` } } },
                    interaction: { intersect: false, mode: 'index' },
                }
            });
            updateDashboard();
        }

        function updateDashboard() {
            const region = document.getElementById('region-select').value;
            const commodity = document.getElementById('commodity-select').value;
            const days = document.querySelector('.time-range-btn.active').dataset.range;
            
            const regionData = MOCK_DATA[region];
            const commodityData = regionData[commodity];

            // Update overview cards
            document.getElementById('location-subtitle').textContent = `Analisis dan Prediksi Harga ${regionData.name}`;
            document.getElementById('overview-last-price').querySelector('.text-2xl').textContent = formatCurrency(commodityData.overview.lastPrice);
            
            const changeEl = document.getElementById('overview-price-change');
            const changeValEl = changeEl.querySelector('.text-2xl');
            const changeIconContainer = changeEl.querySelector('.p-3');
            const changeIcon = changeIconContainer.querySelector('i');
            
            changeValEl.innerHTML = `${commodityData.overview.change > 0 ? '+' : ''} ${formatCurrency(Math.abs(commodityData.overview.change))} <span class="text-base font-medium ml-2">(${commodityData.overview.changePercent}%)</span>`;
            changeValEl.className = `text-2xl font-bold flex items-center ${commodityData.overview.change >= 0 ? 'text-green-600' : 'text-red-600'}`;
            changeIconContainer.className = `p-3 rounded-full ${commodityData.overview.change >= 0 ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`;
            changeIcon.setAttribute('data-lucide', commodityData.overview.change >= 0 ? 'trending-up' : 'trending-down');
            
            document.getElementById('overview-prediction').querySelector('.text-2xl').textContent = formatCurrency(commodityData.overview.prediction);

            // Update chart
            document.getElementById('chart-title').textContent = `Grafik Harga dan Prediksi (${commodityData.name})`;
            const chartRawData = generateChartData(commodityData.chartBase, parseInt(days), commodityData.overview);
            
            priceChart.data.labels = chartRawData.labels;
            priceChart.data.datasets = [
                {
                    label: 'Harga Historis',
                    data: chartRawData.data,
                    borderColor: '#4f46e5',
                    tension: 0.3,
                    pointRadius: (ctx) => (ctx.dataIndex === chartRawData.data.length - 1 ? 5 : 0),
                    pointBackgroundColor: '#4f46e5',
                },
                {
                    label: 'Prediksi Harga',
                    data: [...Array(chartRawData.data.length - 1).fill(null), chartRawData.data.pop(), commodityData.overview.prediction],
                    borderColor: '#22c55e',
                    borderDash: [5, 5],
                    tension: 0.3,
                     pointRadius: (ctx) => (ctx.dataIndex > chartRawData.data.length - 2 ? 5 : 0),
                    pointBackgroundColor: '#22c55e',
                }
            ];
            priceChart.update();
            
            // Update outlook table
            updateOutlookTable(region);
            lucide.createIcons();
        }
        
        function updateOutlookTable(region) {
            const tableBody = document.getElementById('outlook-table-body');
            tableBody.innerHTML = '';
            const regionData = MOCK_DATA[region];
            
            Object.keys(regionData).filter(k => k !== 'name').forEach(commodityKey => {
                const commodity = regionData[commodityKey];
                const row = document.createElement('tr');
                row.className = 'border-b border-slate-200';
                
                const createCell = (content, classes = 'p-4') => {
                    const cell = document.createElement('td');
                    cell.className = classes;
                    cell.innerHTML = content;
                    return cell;
                };

                const createOutlookCell = (value) => {
                    const isUp = value > 0;
                    const color = isUp ? 'text-green-600' : 'text-red-600';
                    const icon = isUp ? 'arrow-up-right' : 'arrow-down-right';
                    return `<div class="flex items-center ${color}"><i data-lucide="${icon}" class="w-4 h-4 mr-1"></i> ${value}%</div>`;
                };

                row.appendChild(createCell(commodity.name, 'p-4 font-semibold'));
                row.appendChild(createCell(formatCurrency(commodity.overview.lastPrice)));
                row.appendChild(createCell(createOutlookCell(commodity.outlook.week)));
                row.appendChild(createCell(createOutlookCell(commodity.outlook.month)));
                row.appendChild(createCell(createOutlookCell(commodity.outlook.threeMonth)));
                
                const reasonCell = createCell('', 'p-4 text-center');
                const reasonButton = document.createElement('div');
                reasonButton.className = 'tooltip';
                reasonButton.innerHTML = `<i data-lucide="help-circle" class="w-5 h-5 text-slate-400 cursor-pointer"></i><span class="tooltiptext">${commodity.outlook.reason}</span>`;
                reasonCell.appendChild(reasonButton);
                row.appendChild(reasonCell);
                
                tableBody.appendChild(row);
            });
            lucide.createIcons();
        }

        // --- CORRELATION LOGIC ---
        function initializeCorrelation() {
            const ctx = document.getElementById('correlationChart').getContext('2d');
            correlationChart = new Chart(ctx, {
                type: 'scatter',
                data: { datasets: [] },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { title: { display: true, text: '' } },
                        y: { title: { display: true, text: '' } }
                    },
                    plugins: { legend: { display: false } }
                }
            });
            updateCorrelationChart();
        }

        function updateCorrelationChart() {
            const varX = document.getElementById('corr-var-x').value;
            const varY = document.getElementById('corr-var-y').value;

            const dataPoints = CORRELATION_DATA[varX].map((val, i) => ({
                x: val,
                y: CORRELATION_DATA[varY][i]
            }));

            correlationChart.data.datasets = [{
                label: `${CORRELATION_DATA.labels[varX]} vs ${CORRELATION_DATA.labels[varY]}`,
                data: dataPoints,
                backgroundColor: 'rgba(79, 70, 229, 0.6)'
            }];
            
            correlationChart.options.scales.x.title.text = CORRELATION_DATA.labels[varX];
            correlationChart.options.scales.y.title.text = CORRELATION_DATA.labels[varY];
            correlationChart.update();
        }

        // --- FACTORS LOGIC ---
        function initializeFactors() {
            bbmChart = createFactorChart('bbmChart', '#fb923c');
            weatherChart = createFactorChart('weatherChart', '#22d3ee');
            inflationChart = createFactorChart('inflationChart', '#a78bfa');
            harvestChart = createFactorChart('harvestChart', '#84cc16');
        }

        function createFactorChart(canvasId, color) {
            const ctx = document.getElementById(canvasId).getContext('2d');
            const labels = Array.from({length: 12}, (_, i) => {
                const d = new Date();
                d.setMonth(d.getMonth() - (11 - i));
                return d.toLocaleDateString('id-ID', { month: 'short' });
            });
            const data = Array.from({length: 12}, () => Math.random() * 50 + 50);

            return new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Trend',
                        data: data,
                        borderColor: color,
                        backgroundColor: `${color}33`,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { display: false }, y: { display: false } },
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                }
            });
        }
    </script>
</body>
</html>
